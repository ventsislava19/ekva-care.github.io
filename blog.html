<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="icon" type="image/png" sizes="32x32" href="images/nav_bar/EKVA_Care_Logo.svg">

     <!-- Google fonts -->
     <link rel="preconnect" href="https://fonts.googleapis.com">
     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
     <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@400;700&family=Bellefair&family=Barlow:wght@400;700&display=swap"
         rel="stylesheet">

    <title>EKVA Care</title>
    <link rel="stylesheet" href="main.css">

    <script src="main.js" defer></script>
</head>

<body class="home">

    <header class="primary-header flex background-image">

        <div class="primary-header-1">

            <div>
                <a href="design-system.html"><img src="images/nav_bar/EKVA_Care_Logo.svg" alt="ekva-care logo" class="logo"></a>
            </div>

            <button class="mobile-nav-toggle" aria-controls="primary-navigation"><span class="sr-only" aria-expanded="false">Menu</span></button>

            <nav>
                <ul data-devisible="false" class="primary-navigation underline-indicators flex">
                    <li><a class="uppercase ff-serif" href="main.html">Home</a></li>
                    <li><a class="uppercase ff-serif" href="about.html">About</a></li>
                    <li class="active"><a class="uppercase ff-serif" href="blog.html">Blog</a></li>
                    <li><a class="uppercase ff-serif" href="resources.html">Resources</a></li>
                    <li><a class="uppercase ff-serif" href="shop.html">Shop</a></li>
                    <li><a class="uppercase ff-serif" href="contact.html">Contact</a></li>
                    <li><a class="uppercase ff-serif book-now" href="book-now.html">Book Now</a></li>
                    <li><a href="main.html"><img src="images/nav_bar/globus.svg" alt="language globus" class="globus"></a></li>
                </ul>
            </nav>

        </div>

    </header>

    <main id="blog" class="flex-container flex-container--blog">


    </main>

    <footer class="primary-footer background-image">

        <ul class="primary-footer-navigation about-section">
            <li class="uppercase ff-serif">About</li>
            <li><a class="ff-serif" href="about.html">About us</a></li>
            <li><a class="ff-serif" href="main.html">Home</a></li>
            <li><a class="ff-serif" href="blog.html">Blog</a></li>
            <li><a class="ff-serif" href="shop.html">Shop</a></li>
            <li><a class="ff-serif" href="contact.html">Contact</a></li>
            <li><a class="ff-serif" href="book-now.html">Book Now</a></li>
            <li><p class="ff-serif copyright-text">@2024 EKVA Care. All rights reserved.</p></li>
        </ul>

        <ul class="primary-footer-navigation useful-links-section">
            <li class="uppercase ff-serif">Useful Links</li>
            <li><a class="ff-serif" href="book-now.html">FAQs</a></li>
            <li><a class="ff-serif" href="resources.html">Resources</a></li>
            <li><a class="ff-serif" href="main.html">Privacy and Cookie Policy</a></li>
            <li><a class="ff-serif" href="main.html">Terms and Conditions</a></li>
        </ul>

        <ul class="primary-footer-navigation contact-section">
            <li class="footer-contact-col-title uppercase ff-serif">Contact</li>
            <li class="footer-via-web"><a class="ff-serif" href="book-now.html">Via our website</a></li>
            <div class="contact-section-links">
                <li class="footer-contact-mail-ph"><img src="images/footer/new.svg" alt="mail pic" class="globus"></li>
                <li class="footer-contact-mail-text"><p class="ff-serif">ekvacare@gmail.com</p></li>

                <li class="footer-contact-ph-pic"><img src="images/footer/phone.svg" alt="phone pic" class="logos-ph"></li>
                <li class="footer-contact-ph-text"><p class="ff-serif">+447526990283</p></li>
            </div>
        </ul>

        <ul class="primary-footer-navigation logos-section">
            <li><a href="main.html"><img src="images/nav_bar/EKVA_Care_Logo.svg" alt="ekva-care logo" class="center-footer-logos footer-ekva-logo"></a></li>
            <li><a class="uppercase ff-serif book-now center-footer-logos" href="book-now.html">Book Now</a></li>
            <div class="logos-fb-insta">
                <li><a href="https://www.facebook.com/share/1CQfTFZSqC/?mibextid=wwXIfr" target="_blank" rel="noopener noreferrer"><img src="images/footer/fb.svg" alt="fb link" class="globus"></li>
                <li><a href="https://linktr.ee/ekvdiet?utm_source=linktree_profile_share&ltsid=e46a2220-816d-4195-a5fc-a91d36c9a3c4" target="_blank" rel="noopener noreferrer"><img src="images/footer/linktree.svg" alt="linktree link" class="globus"></li>
                <li><a href="https://www.instagram.com/ekvacare?igsh=MW9qdW5pM2RyNmJ0dA==" target="_blank" rel="noopener noreferrer"><img src="images/footer/insta.svg" alt="insta link" class="globus"></li>
                <li><a href="https://www.tiktok.com/@ekvacare?_t=ZN-8zTwiKdNoGs&_r=1" target="_blank" rel="noopener noreferrer"><img src="images/footer/tiktok.svg" alt="tiktok link" class="globus"></li>
            </div>
        </ul>

    </footer>

    <script>
        const main = document.getElementById('blog');
    
        function loadBlogContent(url, isInitial = false) {
            if (!isInitial) {
                main.classList.add('fade-out');
            }
    
            setTimeout(() => {
                fetch(url)
                    .then(response => {
                        if (!response.ok) throw new Error('Network error');
                        return response.text();
                    })
                    .then(html => {
                        main.innerHTML = html;
    
                        const images = main.querySelectorAll('img');
                        if (images.length === 0) {
                            revealMain();
                        } else {
                            let loaded = 0;
                            images.forEach(img => {
                                img.onload = img.onerror = () => {
                                    loaded++;
                                    if (loaded === images.length) {
                                        revealMain();
                                    }
                                };
                            });
                        }
    
                        function revealMain() {
                            main.style.opacity = '1';
                            main.classList.remove('fade-out');
                            window.scrollTo({
                                top: 0,
                                behavior: 'smooth'
                            });
                        }
                    })
                    .catch(error => {
                        main.innerHTML = `<p>Error: ${error}</p>`;
                        main.style.opacity = '1';
                        main.classList.remove('fade-out');
                    });
            }, isInitial ? 0 : 250);
        }
    
        // Initial load â€” handled slightly differently
        window.addEventListener('DOMContentLoaded', () => {
            // Set main invisible from the start
            main.style.opacity = '0';
            loadBlogContent('blog-page-1-content.html', true);
        });
    
        // Delegate click handling for pagination
        document.addEventListener('click', (event) => {
            const button = event.target.closest('.numbers-blog button');
            if (button && button.hasAttribute('data-url')) {
                const url = button.getAttribute('data-url');
                loadBlogContent(url);
            }
        });
    </script>
</body>
</html>